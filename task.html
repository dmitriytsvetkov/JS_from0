<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Title</title>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
	<style>

		table {
			border: 3px solid black;

		}
		td {
			border: 3px solid lightgray;
		}
	</style>
</head>


<body>

<table class="splittable-table" data-col-groups="6,2,2">
	<tr>
		<td>Test 1</td>
		<td>Test 2</td>
		<td>Test 3</td>
		<td>Test 4</td>
		<td>Test 5</td>
		<td>Test 6</td>
		<td>Test 7</td>
		<td>Test 8</td>
		<td>Test 9</td>
		<td>Test 10</td>
	</tr>

	<!--<tr>
		<td>Test 7</td>
		<td>Test 8</td>
		<td>Test 9</td>
		<td>Test 10</td>
	</tr>-->




</table>

<script>
	$(function () {
		function getArrays(tableAttr, tds) {
			var result = []; //[<tr>[tdtdtd]</tr>,<tr>[tdtd],[]]
			var tr = "";
			var counter = 0;
			for (var i = 0; i < tableAttr.length; i++) {

				for (var j = 0; j < tds.length; j++) {
					if (tds[j].cellIndex < tableAttr[i]) {
						tr += tds[counter].outerHTML;
						counter++;
					} else {
						result.push("<tr>" + tr + "</tr>");
						tr = "";
						break;
					}
				}
			}
			return result;
		}
		var table = $(".splittable-table");
		var tableAttr = table.data("col-groups").split(",");

		if (tableAttr.length > 1) {
			table.find('tr').each(function () {
				var $tr = $(this);
				var tds = $tr.find('td');
				var arrays = getArrays(tableAttr, tds);


				var newTrs = arrays.map(function (tds, i, arr) {
					var newTr = $('<tr>');
					tds.each(function () {
						newTr.append(this);
					});
					return newTr;
				})

				//TODO заменить $tr на newTrs
			})

		}



		/*table.each(function () {
			var _table = $(this);

			$("td:last").attr( "colspan", 3 );
		})*/



	});
</script>
</body>
</html>